(self.webpackChunkdoc=self.webpackChunkdoc||[]).push([[128],{3905:function(e,n,t){"use strict";t.d(n,{Zo:function(){return p},kt:function(){return m}});var a=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var s=a.createContext({}),d=function(e){var n=a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},p=function(e){var n=d(e.components);return a.createElement(s.Provider,{value:n},e.children)},l={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},u=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,p=c(e,["components","mdxType","originalType","parentName"]),u=d(t),m=r,f=u["".concat(s,".").concat(m)]||u[m]||l[m]||o;return t?a.createElement(f,i(i({ref:n},p),{},{components:t})):a.createElement(f,i({ref:n},p))}));function m(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var o=t.length,i=new Array(o);i[0]=u;var c={};for(var s in n)hasOwnProperty.call(n,s)&&(c[s]=n[s]);c.originalType=e,c.mdxType="string"==typeof e?e:r,i[1]=c;for(var d=2;d<o;d++)i[d]=t[d];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}u.displayName="MDXCreateElement"},1571:function(e,n,t){"use strict";t.r(n),t.d(n,{frontMatter:function(){return c},contentTitle:function(){return s},metadata:function(){return d},toc:function(){return p},default:function(){return u}});var a=t(2122),r=t(9756),o=(t(7294),t(3905)),i=["components"],c={sidebar_position:3},s="transfer",d={unversionedId:"sdk/everpay-js/operation-api/transfer",id:"sdk/everpay-js/operation-api/transfer",isDocsHomePage:!1,title:"transfer",description:"Function",source:"@site/i18n/en/docusaurus-plugin-content-docs/current/sdk/everpay-js/operation-api/transfer.md",sourceDirName:"sdk/everpay-js/operation-api",slug:"/sdk/everpay-js/operation-api/transfer",permalink:"/en/docs/sdk/everpay-js/operation-api/transfer",editUrl:"https://github.com/everFinance/docs/edit/master/i18n/en/docusaurus-plugin-content-docs/current/sdk/everpay-js/operation-api/transfer.md",version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"sdk",previous:{title:"deposit",permalink:"/en/docs/sdk/everpay-js/operation-api/deposit"},next:{title:"withdraw",permalink:"/en/docs/sdk/everpay-js/operation-api/withdraw"}},p=[{value:"Function",id:"function",children:[]},{value:"Parameter",id:"parameter",children:[]},{value:"Return",id:"return",children:[]},{value:"Example",id:"example",children:[{value:"From ethereum account",id:"from-ethereum-account",children:[]},{value:"From arweave account",id:"from-arweave-account",children:[]}]}],l={toc:p};function u(e){var n=e.components,t=(0,r.Z)(e,i);return(0,o.kt)("wrapper",(0,a.Z)({},l,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"transfer"},"transfer"),(0,o.kt)("h2",{id:"function"},"Function"),(0,o.kt)("p",null,"Based on the ",(0,o.kt)("inlineCode",{parentName:"p"},"account"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"ethConnectedSigner"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"arJWK")," parameters passed when the Everpay instance is created, when do transfering,"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Internal build ",(0,o.kt)("a",{parentName:"li",href:"../types#everpaytxwithoutsig"},"EverpayTxWithoutSig")),(0,o.kt)("li",{parentName:"ul"},"Call the corresponding (plugin) wallet signature function, generate ",(0,o.kt)("inlineCode",{parentName:"li"},"sig"),", assemble ",(0,o.kt)("a",{parentName:"li",href:"../types#everpaytx"},"EverpayTx")),(0,o.kt)("li",{parentName:"ul"},"Send the everpay tx to everPay backend server for signature verification"),(0,o.kt)("li",{parentName:"ul"},"The backend server verifies it and updates the user's asset balance. And store the everPay transaction record on the arweave blockchain")),(0,o.kt)("p",null,"Developers can visit the ",(0,o.kt)("a",{parentName:"p",href:"../../../guide/dive/transaction"},"Guide - Dive - Transaction")," section for more information."),(0,o.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Any everPay account can transfer any of its assets on everPay to other everPay accounts, regardless of whether the everPay account to be transferred is an ethereum or arweave account model. For example."),(0,o.kt)("ul",{parentName:"div"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"5NPqYBdIsIpJzPeYixuz7BEH_W7BEk_mb8HxBD3OHXo")," everPay account of arweave account model can transfer AR, ETH, USDT to ",(0,o.kt)("inlineCode",{parentName:"li"},"0x26361130d5d6E798E9319114643AF8c868412859")," everPay account of ethereum account model"),(0,o.kt)("li",{parentName:"ul"},"and vice versa")))),(0,o.kt)("h2",{id:"parameter"},"Parameter"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"../types#transferparams"},"TransferParams")),(0,o.kt)("h2",{id:"return"},"Return"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"../types#transferorwithdrawresult"},"TransferOrWithdrawResult")),(0,o.kt)("h2",{id:"example"},"Example"),(0,o.kt)("h3",{id:"from-ethereum-account"},"From ethereum account"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"const provider = new ethers.providers.Web3Provider(window.ethereum)\nconst signer = provider.getSigner()\nconst everpay = new Everpay({\n  account: window.ethereum.selectedAddress,\n  ethConnectedSigner: signer\n})\n\neverpay.transfer({\n  symbol: 'USDT',\n  amount: '5.26'\n  to: '5NPqYBdIsIpJzPeYixuz7BEH_W7BEk_mb8HxBD3OHXo',\n  data: { hello: 'world', this: 'is everpay' }\n}).then(console.log)\n\n/* Returned result\n{\n  status: 'ok',\n  everpayTx: {\n    tokenSymbol: 'usdt',\n    action: 'transfer',\n    from: '0x26361130d5d6E798E9319114643AF8c868412859',\n    to: '5NPqYBdIsIpJzPeYixuz7BEH_W7BEk_mb8HxBD3OHXo',\n    amount: '5260000',\n    fee: '0',\n    feeRecipient: '0x6451eB7f668de69Fb4C943Db72bCF2A73DeeC6B1',\n    nonce: '1625987254171',\n    tokenID: '0xd85476c906b5301e8e9eb58d174a6f96b9dfc5ee',\n    chainType: 'ethereum',\n    chainID: '42',\n    data: '{\"hello\":\"world\",\"this\":\"is everpay\"}',\n    version: 'v1',\n    sig: '0x3ee66c303fe59b8e1f84e638cb7cca8bbb0e5b0ca63f784021e877be13c176d35d831e120a20eb8c72741fcc40c6a35a566d3ed34f6274d4c26160f38c14eec11b'\n  },\n  everHash: '0x0b7be08f6b96c2f1c7a810c72af2cc46632e4a7f0f9e36ccb10840864fedd470'\n}\n*/\n\n")),(0,o.kt)("h3",{id:"from-arweave-account"},"From arweave account"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"const arAddress = await window.arweaveWallet.getActiveAddress()\nconst everpay = new Everpay({\n  account: arAddress,\n  arJWK: 'use_wallet',\n})\n\neverpay.transfer({\n  symbol: 'ar',\n  amount: '0.0000000001',\n  to: '0x26361130d5d6E798E9319114643AF8c868412859'\n}).then(console.log)\n\n/* Returned result\n{\n  status: 'ok',\n  everpayTx: {\n    tokenSymbol: 'ar',\n    action: 'transfer',\n    from: '5NPqYBdIsIpJzPeYixuz7BEH_W7BEk_mb8HxBD3OHXo',\n    to: '0x26361130d5d6E798E9319114643AF8c868412859',\n    amount: '100',\n    fee: '0',\n    feeRecipient: '0x6451eB7f668de69Fb4C943Db72bCF2A73DeeC6B1',\n    nonce: '1625985586414',\n    tokenID: 'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,0xcc9141efa8c20c7df0778748255b1487957811be',\n    chainType: 'arweave,ethereum',\n    chainID: '0,42',\n    data: '{\"arOwner\":\"odtNk97a4PARR0I8g3kQpzlFVmPg-udyjfl81fbTioyP2pEw5tP5A1-FVqR-QFFPskW-j7yAze5usYNWHEir7oVQ9d9bbkcZIDEPqwSTO1JoD1BKXeeBK0xsmiSgxeY7uuRXWdhXREhlmIMsV8ObakEeXdbbxbs89XaZHBuES7boASrRVDXRz_mhMu6u_58OdLeMwR3I1BCH6nphNGVOehA7GOOqEBvtesBset0bNaLCb0JpSg5ZW_0AGLP-XydzE3IPLLx4NQEEJY21y8fChxYM4jntI78l5hojp9NlmS69EXlj0PoMjsbaWaz9WtnZaMAbnaOGAHhv8Y_TNmBI0FHpqHaGPP906Mnrgdm3tl2L40EX-Q6-liNVkB56CmPxXzSesu-4x5LLYxQ-aX3W6Hj7RCDTacxqUJHzOrhJqXSx6Jx0t8CwyfReMgVv4p5t1C3OZ8yYbJ_H3LdkeriVniaC5jQdMyIJ6QBMzr1XdXIw9WuEG2kCIYtvOp2qDuu9o2SY-9W4Yv7VWRDfWO38xxR4ZO65MMAdZxeaZ4w8sK_owH46Wm0XoT3Al-LPypaeijWqlHEu4R8c2ersD3xkDvXC_lNtaQw_qyfI3UEH5fWupY4zhZeDGkvXQh32Fv4CxlZL58iUHv9SvR7p5LgBCC3AVUbn7Sqc4xPUCZMj-Tc\"}',\n    version: 'v1',\n    sig: 'fD9iBjvpP20Lv5ViFebJHBpdQYR-f-wvSbkZ7Vz_LnQKLTWUToeEMyg4QURKLqHwH-PMYI_-GLJjMnuI8f25fTFZfbtyeKFZfR5J6IAxg72Q_Ghx-iNMaMBqLmX2YoI2NlaC95qnPx_TCTxDv5rAhRSmO5XJdW-EfTZ8idYGC8QTRvKaZio218huQIXBtk6o2kySiZZ8H4HSodWvKGAckni7RXUxSddZaCmqSlBahjlWliVOfCzrscx_8luSiUmMh0R9ydr5RhDXrCXY6sHBJfjO1QrUjfBg1UOoEYm4ln5hm_pTRpOZqJn6LTGILQLqk8Ez--pxbke642aaeOochB-lFnge_sJn_AuH7Kx_CQtL4P-8b_VuYhrpwUPVIzHUJif8Wy7C_U6TfjvXB2cp9OhrZ8T5S8SLwsdlJki_hZOSzK_xltSdTZOoY4sJnPytR8ZZQuJMBmR2WqM8SjSxgI_7SDjUdVgYSIZyfuUg0MvUsiaCTt6Ud-Ca5yzqiMTAW7rAdbeFc32MDOQp-3WmT9eKOKW9L3dIC6N-SGlBaKSC09qRFtLlUjXD8XbtxYVMH3fC6et2z3lyWxsiTcEydra8M_ECA1o84CjdKL3-I4yFefMMgch_cR18sTgim00aSGeTZjacNFjQJxdVftg4--jq9mpfKkUHQoz8Rx83Kg4'\n  },\n  everHash: '0x499441bbce0a73ccc05ac947844bec9959736940323d36c9c38cc824942771a4'\n}\n*/\n")),(0,o.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"When an arweave account makes a transfer to another account, the data will have the JSON string ",(0,o.kt)("inlineCode",{parentName:"p"},"arOwner"),", which is the ",(0,o.kt)("inlineCode",{parentName:"p"},"public key"),", will be used for RSA-PSS sha256 signature verification."))))}u.isMDXComponent=!0}}]);